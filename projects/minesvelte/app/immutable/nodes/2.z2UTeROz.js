import{s as O,e as C,c as k,b as x,f as b,p as T,i as B,n as S,w as A,t as Q,d as X,h as E,j as $,a as R,g as q,x as H,y as ee,z as te,A as ne}from"../chunks/scheduler.s4keOlH5.js";import{S as z,i as L,a as j,g as le,c as se,t as V,b as G,d as Y,m as Z,e as J}from"../chunks/index.HxSdVWBd.js";import{g as ie}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.6R-F81MU.js";function P(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function ae(l){let e,n="ðŸš©";return{c(){e=C("h3"),e.textContent=n,this.h()},l(a){e=k(a,"H3",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-16mkv5o"&&(e.textContent=n),this.h()},h(){T(e,"class","h3")},m(a,s){B(a,e,s)},p:S,d(a){a&&b(e)}}}function re(l){let e,n;return{c(){e=C("h3"),n=Q(l[0]),this.h()},l(a){e=k(a,"H3",{class:!0});var s=x(e);n=X(s,l[0]),s.forEach(b),this.h()},h(){T(e,"class","h3")},m(a,s){B(a,e,s),E(e,n)},p(a,s){s&1&&$(n,a[0])},d(a){a&&b(e)}}}function oe(l){let e,n;function a(f,r){if(f[1]&&f[0]!==0)return re;if(f[2])return ae}let s=a(l),t=s&&s(l);return{c(){e=C("div"),t&&t.c(),this.h()},l(f){e=k(f,"DIV",{class:!0});var r=x(e);t&&t.l(r),r.forEach(b),this.h()},h(){T(e,"class",n="border-2 border-white w-16 h-16 "+l[3]+" flex items-center justify-center")},m(f,r){B(f,e,r),t&&t.m(e,null)},p(f,[r]){s===(s=a(f))&&t?t.p(f,r):(t&&t.d(1),t=s&&s(f),t&&(t.c(),t.m(e,null))),r&8&&n!==(n="border-2 border-white w-16 h-16 "+f[3]+" flex items-center justify-center")&&T(e,"class",n)},i:S,o:S,d(f){f&&b(e),t&&t.d()}}}function fe(l,e,n){let a,{value:s}=e,{visible:t}=e,{flagged:f}=e;return l.$$set=r=>{"value"in r&&n(0,s=r.value),"visible"in r&&n(1,t=r.visible),"flagged"in r&&n(2,f=r.flagged)},l.$$.update=()=>{l.$$.dirty&3&&n(3,a=t&&s==="ðŸ’£"?"bg-red-900":t?"":"bg-slate-400")},[s,t,f,a]}class ue extends z{constructor(e){super(),L(this,e,fe,oe,O,{value:0,visible:1,flagged:2})}}function U(l,e,n){const a=l.slice();return a[14]=e[n],a[16]=n,a}function W(l){let e,n,a,s,t,f;n=new ue({props:{value:l[14].value,visible:l[14].visible,flagged:l[14].flagged}});function r(){return l[4](l[16])}function _(){return l[5](l[16])}return{c(){e=C("button"),G(n.$$.fragment),a=R()},l(v){e=k(v,"BUTTON",{});var h=x(e);Y(n.$$.fragment,h),a=q(h),h.forEach(b)},m(v,h){B(v,e,h),Z(n,e,null),E(e,a),s=!0,t||(f=[H(e,"click",r),H(e,"contextmenu",te(_))],t=!0)},p(v,h){l=v;const o={};h&1&&(o.value=l[14].value),h&1&&(o.visible=l[14].visible),h&1&&(o.flagged=l[14].flagged),n.$set(o)},i(v){s||(j(n.$$.fragment,v),s=!0)},o(v){V(n.$$.fragment,v),s=!1},d(v){v&&b(e),J(n),t=!1,ne(f)}}}function ce(l){let e,n,a,s,t,f="Reset",r,_,v,h=P(l[0]),o=[];for(let c=0;c<h.length;c+=1)o[c]=W(U(l,h,c));const w=c=>V(o[c],1,1,()=>{o[c]=null});return{c(){e=C("div"),n=C("div");for(let c=0;c<o.length;c+=1)o[c].c();a=R(),s=C("div"),t=C("button"),t.textContent=f,this.h()},l(c){e=k(c,"DIV",{class:!0});var g=x(e);n=k(g,"DIV",{class:!0});var d=x(n);for(let i=0;i<o.length;i+=1)o[i].l(d);d.forEach(b),a=q(g),s=k(g,"DIV",{class:!0});var y=x(s);t=k(y,"BUTTON",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1rekr07"&&(t.textContent=f),y.forEach(b),g.forEach(b),this.h()},h(){T(n,"class","grid grid-cols-9 grid-rows-9"),T(t,"class","m-4 btn variant-filled"),T(s,"class","flex-row"),T(e,"class","flex-col")},m(c,g){B(c,e,g),E(e,n);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(n,null);E(e,a),E(e,s),E(s,t),r=!0,_||(v=H(t,"click",l[2]),_=!0)},p(c,[g]){if(g&11){h=P(c[0]);let d;for(d=0;d<h.length;d+=1){const y=U(c,h,d);o[d]?(o[d].p(y,g),j(o[d],1)):(o[d]=W(y),o[d].c(),j(o[d],1),o[d].m(n,null))}for(le(),d=h.length;d<o.length;d+=1)w(d);se()}},i(c){if(!r){for(let g=0;g<h.length;g+=1)j(o[g]);r=!0}},o(c){o=o.filter(Boolean);for(let g=0;g<o.length;g+=1)V(o[g]);r=!1},d(c){c&&b(e),ee(o,c),_=!1,v()}}}const p=9;function F(){let l=[];for(let e=0;e<p;e++)for(let n=0;n<p;n++)l.push({value:0,visible:!1,flagged:!1});return l}function I(l,e){return l*p+e}function de(l,e,n){const a=ie();let s=!1,t=F();function f(i){let u=10;for(;u>0;){const m=Math.round(Math.random()*p*p)-1;t[m].value==="ðŸ’£"||m===i||(n(0,t[m].value="ðŸ’£",t),u-=1)}_()}function r(i,u){if(i<0||i>=p||u<0||u>=p)return!1;let m=I(i,u);return m<0||m>=t.length?!1:t[m].value==="ðŸ’£"}function _(){for(let i=0;i<p;i++)for(let u=0;u<p;u++){const m=I(i,u);if(t[m].value==="ðŸ’£")continue;const D=v(i,u);n(0,t[m].value=D,t)}}function v(i,u){let m=0;const D=[-1,0,1],N=[-1,0,1];for(let M of D)for(let K of N)r(i+M,u+K)&&m++;return m}function h(i,u,m){if(!(i<0||i>=p||u<0||u>=p||m.has(I(i,u))))if(m.add(I(i,u)),n(0,t[I(i,u)].visible=!0,t),t[I(i,u)].value===0)h(i+1,u,m),h(i-1,u,m),h(i,u-1,m),h(i,u+1,m);else return}function o(i){s||(f(i),s=!0),n(0,t[i].visible=!0,t);const u=Math.floor(i/p),m=i%p;h(u,m,new Set),t[i].value==="ðŸ’£"&&setTimeout(()=>{const M={type:"alert",title:"Game Over",body:"You lose!",buttonTextCancel:"Reset",response:()=>c()};a.trigger(M)}),w()&&setTimeout(()=>{const M={type:"alert",title:"Winner",buttonTextCancel:"Hurray!",response:()=>c()};a.trigger(M)})}function w(){return t.filter(i=>i.value!=="ðŸ’£"&&!i.visible).length===0}function c(){n(0,t=F()),s=!1}function g(i){const u=t[i];u.flagged=!u.flagged,n(0,t)}return[t,o,c,g,i=>o(i),i=>g(i)]}class he extends z{constructor(e){super(),L(this,e,de,ce,O,{})}}function me(l){let e,n='<h1 class="h1 p-8">Minesweeper</h1>',a,s,t,f;return t=new he({}),{c(){e=C("div"),e.innerHTML=n,a=R(),s=C("div"),G(t.$$.fragment),this.h()},l(r){e=k(r,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-qmz6a1"&&(e.innerHTML=n),a=q(r),s=k(r,"DIV",{class:!0});var _=x(s);Y(t.$$.fragment,_),_.forEach(b),this.h()},h(){T(e,"class","flex justify-center"),T(s,"class","flex justify-center")},m(r,_){B(r,e,_),B(r,a,_),B(r,s,_),Z(t,s,null),f=!0},p:S,i(r){f||(j(t.$$.fragment,r),f=!0)},o(r){V(t.$$.fragment,r),f=!1},d(r){r&&(b(e),b(a),b(s)),J(t)}}}class _e extends z{constructor(e){super(),L(this,e,null,me,O,{})}}export{_e as component};
